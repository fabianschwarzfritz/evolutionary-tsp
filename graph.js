const fs = require("fs");

const output = process.argv[2] || "generated.svg";

const route = JSON.parse(`
{"route":[{"x":7545,"y":3902},{"x":7625,"y":6087},{"x":6400,"y":9882},{"x":7324,"y":8304},{"x":5283,"y":3793},{"x":9425,"y":162},{"x":8434,"y":6869},{"x":6923,"y":7031},{"x":7590,"y":9300},{"x":7087,"y":7192},{"x":672,"y":9625},{"x":9187,"y":5036},{"x":8831,"y":5691},{"x":9505,"y":4521},{"x":9214,"y":3972},{"x":4020,"y":5907},{"x":2078,"y":164},{"x":2827,"y":6118},{"x":5982,"y":3218},{"x":4641,"y":6447},{"x":1963,"y":8419},{"x":1370,"y":9708},{"x":8295,"y":7393},{"x":2866,"y":6143},{"x":3429,"y":4431},{"x":1766,"y":2537},{"x":3803,"y":2160},{"x":2123,"y":329},{"x":1538,"y":6785},{"x":2712,"y":7454},{"x":7729,"y":4513},{"x":6467,"y":9626},{"x":4347,"y":7191},{"x":8239,"y":6066},{"x":7797,"y":6208},{"x":8466,"y":6878},{"x":459,"y":8751},{"x":4876,"y":2286},{"x":4358,"y":892},{"x":8422,"y":9333},{"x":6602,"y":4943},{"x":8244,"y":8421},{"x":7700,"y":2424},{"x":6062,"y":3478},{"x":3185,"y":648},{"x":6291,"y":2854},{"x":58,"y":399},{"x":1088,"y":4882},{"x":5482,"y":8144},{"x":9887,"y":9573},{"x":5710,"y":9941},{"x":6242,"y":8361},{"x":8118,"y":7842},{"x":6541,"y":9646},{"x":5881,"y":5048},{"x":9198,"y":2298},{"x":7065,"y":9587},{"x":4460,"y":4924},{"x":9936,"y":4085},{"x":9133,"y":9613},{"x":8118,"y":9574},{"x":3117,"y":6771},{"x":5007,"y":3371},{"x":8982,"y":1976},{"x":1180,"y":5470},{"x":5825,"y":7040},{"x":4004,"y":6610},{"x":4578,"y":7107},{"x":236,"y":1560},{"x":3494,"y":9769},{"x":1995,"y":4881},{"x":3350,"y":5484},{"x":8211,"y":7481},{"x":9503,"y":4344},{"x":7630,"y":933},{"x":7753,"y":2198},{"x":7694,"y":166},{"x":8157,"y":4338},{"x":1980,"y":100},{"x":5885,"y":2494},{"x":8156,"y":9627},{"x":9152,"y":6528},{"x":9448,"y":6333},{"x":5035,"y":1925},{"x":5949,"y":3963},{"x":3606,"y":104},{"x":6455,"y":4174},{"x":6513,"y":4328},{"x":8423,"y":3351},{"x":4711,"y":236},{"x":5281,"y":2949},{"x":4707,"y":2884},{"x":1509,"y":4117},{"x":5082,"y":3699},{"x":9248,"y":7701},{"x":3460,"y":3795},{"x":3434,"y":2011},{"x":8219,"y":1388},{"x":6191,"y":4214},{"x":9318,"y":4513}],"distance":405939.62899226515,"fitness":0.0000024634204905849537}
`).route;
console.log(route);

// Generates the route
let svgpoints = "";
for(let point of route) {
  console.log(route);
  svgpoints += point.x/10 + "," + point.y/10 + " ";
}
// Route goes back to the beginning
svgpoints += route[0].x / 10 + "," + route[0].y / 10;
console.log(svgpoints);

const template = `
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="0 0 250 400">
  <polyline points='${svgpoints}'
   style='fill:none;stroke:black;stroke-width:3' />
</svg>
`;

fs.writeFileSync(output, template);

